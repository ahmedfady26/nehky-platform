# ุชุญุฏูุซ ุฌุฏูู ุงููุณุชุฎุฏููู - User Table Update

## ๐ ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### ๐ ุชุนุฏูู ุฌุฏูู Users

ุชู ุชุญุฏูุซ ุฌุฏูู `users` ูู ูุงุนุฏุฉ ุจูุงูุงุช ููุตุฉ ูุญูู ููุดูู ุงููุธุงู ุงูุฌุฏูุฏ ููุจุฑูุฏ ุงูุฅููุชุฑููู ูุงููููุฏ ุงููุฑูุฏุฉ:

#### ๐ง ูุธุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงูุฌุฏูุฏ

1. **ุงูุจุฑูุฏ ุงูุฏุงุฎูู (`nehky_email`)**:
   - **ุตูุบุฉ**: `username@nehky.com`
   - **ุชูููุฏ ุชููุงุฆู**: ูุชู ุฅูุดุงุคู ุชููุงุฆูุงู ุนูุฏ ุชุณุฌูู ุงูุญุณุงุจ
   - **ุบูุฑ ูุงุจู ููุชุบููุฑ**: ูุง ูููู ูููุณุชุฎุฏู ุชุนุฏููู
   - **ูุฑูุฏ**: ูุฌุจ ุฃู ูููู ูุฑูุฏุงู ุนุจุฑ ุงูููุตุฉ
   - **ูุซุงู**: `ahmed_test@nehky.com`

2. **ุงูุจุฑูุฏ ุงูุฎุงุฑุฌู (`external_email`)**:
   - **ุงุฎุชูุงุฑู**: ุงูุญูู ููุณ ุฅุฌุจุงุฑูุงู
   - **ูุฑู**: ูููู ุงุณุชุฎุฏุงู ุฃู ุจุฑูุฏ ุฎุงุฑุฌู (Gmail, Yahoo, ุฅูุฎ)
   - **ูุงุจู ููุชุบููุฑ**: ูููู ูููุณุชุฎุฏู ุชุญุฏูุซู
   - **ูุซุงู**: `user@gmail.com`

#### ๐ ุงููููุฏ ุงููุฑูุฏุฉ ุงูุฌุฏูุฏุฉ

ุงูุญููู ุงูุชุงููุฉ ูุฌุจ ุฃู ุชููู **ูุฑูุฏุฉ** ุนุจุฑ ุงูููุตุฉ:

1. **ุงุณู ุงููุณุชุฎุฏู (`username`)**:
   - ูุฑูุฏ ุนุจุฑ ุงูููุตุฉ ุจุงููุงูู
   - ูุง ูููู ููุณุชุฎุฏููู ูุฎุชูููู ุงุณุชุฎุฏุงู ููุณ ุงูุงุณู

2. **ุฑูู ุงููุงุชู (`phone`)**:
   - ูุฑูุฏ ููุทููุจ
   - ุฑูู ูุงุญุฏ ููู ุญุณุงุจ ููุท
   - ูุง ูููู ุงุณุชุฎุฏุงู ููุณ ุงูุฑูู ูุฃูุซุฑ ูู ุญุณุงุจ

3. **ุงูุจุฑูุฏ ุงูุฏุงุฎูู (`nehky_email`)**:
   - ูุฑูุฏ ุชููุงุฆูุงู (ูุฑุจูุท ุจุงุณู ุงููุณุชุฎุฏู)
   - ุตูุบุฉ: `username@nehky.com`

### ๐ ุจููุฉ ุงูุญููู ุงูุฌุฏูุฏุฉ

```prisma
model User {
  id                 String   @id @default(uuid())
  fullName           String   @map("full_name")
  username           String   @unique                 // ูุฑูุฏ โ
  nehkyEmail         String   @unique @map("nehky_email")    // ูุฑูุฏ โ 
  externalEmail      String?  @map("external_email")  // ุงุฎุชูุงุฑู
  phone              String   @unique                 // ูุฑูุฏ โ
  passwordHash       String   @map("password_hash")
  // ...ุจุงูู ุงูุญููู
}
```

### ๐ ุงูููุงุฑุณ ุงููุญุฏุซุฉ

ุชู ุฅุถุงูุฉ ููุงุฑุณ ูุญุณูุฉ ููุญููู ุงูุฌุฏูุฏุฉ:

```prisma
@@index([username])      // ููุฑุณ ุงุณู ุงููุณุชุฎุฏู
@@index([nehkyEmail])    // ููุฑุณ ุงูุจุฑูุฏ ุงูุฏุงุฎูู  
@@index([phone])         // ููุฑุณ ุฑูู ุงููุงุชู
@@index([externalEmail]) // ููุฑุณ ุงูุจุฑูุฏ ุงูุฎุงุฑุฌู
```

## โก ูุฒุงูุง ุงููุธุงู ุงูุฌุฏูุฏ

### ๐ฏ ูููุณุชุฎุฏููู
- **ูููุฉ ููุญุฏุฉ**: ูู ูุณุชุฎุฏู ูู ุจุฑูุฏ ุฏุงุฎูู ูุฑูุฏ
- **ุณูููุฉ ุงูุชุฐูุฑ**: ุงูุจุฑูุฏ ุงูุฏุงุฎูู ูุฑุชุจุท ุจุงุณู ุงููุณุชุฎุฏู
- **ูุฑููุฉ ุฅุถุงููุฉ**: ูููู ุฅุถุงูุฉ ุจุฑูุฏ ุฎุงุฑุฌู ููุชูุงุตู

### ๐ง ูููุทูุฑูู
- **ููุน ุงูุชุถุงุฑุจ**: ุถูุงู ุนุฏู ุชูุฑุงุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- **ุณูููุฉ ุงูุจุญุซ**: ููุงุฑุณ ูุญุณูุฉ ููุงุณุชุนูุงูุงุช ุงูุณุฑูุนุฉ
- **ุชุชุจุน ุฃูุถู**: ูู ูุณุชุฎุฏู ูู ูุนุฑู ุจุฑูุฏ ุซุงุจุช

### ๐ก๏ธ ููุฃูุงู
- **ููุน ุงูุชูุงุนุจ**: ุงูุจุฑูุฏ ุงูุฏุงุฎูู ุบูุฑ ูุงุจู ููุชุบููุฑ
- **ุชุญูู ูุถุงุนู**: ุฑูู ูุงุชู ูุฑูุฏ + ุจุฑูุฏ ูุฑูุฏ
- **ุณุฌู ุซุงุจุช**: ุงููููุฉ ุงูุฏุงุฎููุฉ ูุง ุชุชุบูุฑ

## ๐ ุงูุชูููุฐ

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
npx prisma db push
```

### 2. ุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ
```bash
npx prisma db seed
```

### 3. ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

```typescript
// ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
const newUser = await prisma.user.create({
  data: {
    fullName: 'ุฃุญูุฏ ูุญูุฏ',
    username: 'ahmed_dev',
    nehkyEmail: 'ahmed_dev@nehky.com',     // ูุทููุจ - ูุฑูุฏ
    externalEmail: 'ahmed@gmail.com',      // ุงุฎุชูุงุฑู
    phone: '+201234567890',               // ูุทููุจ - ูุฑูุฏ
    passwordHash: hashedPassword,
    // ...ุจุงูู ุงูุจูุงูุงุช
  }
});
```

## ๐ ุชุฑุญูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ

ุฅุฐุง ูุงูุช ููุงู ุจูุงูุงุช ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

1. **ุงูุจุฑูุฏ ุงูููุฌูุฏ** ูู ุญูู `email` ุณูุญุชุงุฌ ุฅูู:
   - ูููู ุฅูู `external_email` ุฅุฐุง ูู ููู ุจุตูุบุฉ `@nehky.com`
   - ุชูููุฏ `nehky_email` ุฌุฏูุฏ ุจุตูุบุฉ `username@nehky.com`

2. **ุฃุฑูุงู ุงูููุงุชู** ูุฌุจ ุงูุชุฃูุฏ ูู ุนุฏู ุชูุฑุงุฑูุง

3. **ุฃุณูุงุก ุงููุณุชุฎุฏููู** ูุฌุจ ุงูุชุฃูุฏ ูู ูุฑูุฏุชูุง

## โ ุงุฎุชุจุงุฑ ุงููุธุงู

ุชู ุฅูุดุงุก ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุชุชุถูู:
- ูุณุชุฎุฏู ุจุงุณู: `ahmed_test`
- ุจุฑูุฏ ุฏุงุฎูู: `ahmed_test@nehky.com`
- ุจุฑูุฏ ุฎุงุฑุฌู: `ahmed.test@gmail.com`
- ูุงุชู: `+201234567890`

## ๐ ุงูุฏุนู ุงูููู

ูุฃู ุงุณุชูุณุงุฑุงุช ุญูู ุงููุธุงู ุงูุฌุฏูุฏ:
- ุฑุงุฌุน ุงูู schema ูู `prisma/schema.prisma`
- ุชุญูู ูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ูู `prisma/seed.ts`
- ุงุณุชุฎุฏู `npx prisma studio` ููุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 27 ููููู 2025  
**ุงูุฅุตุฏุงุฑ**: 1.1.0  
**ุงูุญุงูุฉ**: โ ููุทุจู ูููุฎุชุจุฑ
